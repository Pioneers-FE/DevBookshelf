# 4장 변수

## 4.1 변수(variable)
### 변수란?
- 하나의 값을 저장하기 위해 확보한 **메모리 공간 자체**
- 그 **메모리 공간을 식별**하기 위해 붙인 이름
- **값의 위치**를 가리키는 상징적인 이름

### 변수를 왜 사용할까?
- 메모리 주소를 통해 값에 직접 접근하는 것은 치명적인 오류를 발생시킬 가능성이 높은 매우 위험한 일이기 때문.
- 만약, 실수로 운영체제가 사용하고 있는 값을 변경하면 시스템을 멈추게 하는 치명적인 오류를 발생시킬 수 있다.
- 따라서, **자바스크립트**는 개발자의 **직접적인 메모리 제어를 허용하지 않음**!

```
❗️자바스크립트가 개발자의 직접적인 메모리 제어를 허용 한다면?
- 값이 저장될 메모리 주소는 코드가 실행될 때 메모리 상황에 따라 임의로 결정
- 따라서 동일한 컴퓨터에서 동일한 코드를 실행해도 코드가 실행될 때마다 값이 저장될 메모리 주소가 변경!
- 코드가 실행되기 전에 값이 저장된 메모리 주소를 알 수 없으며, 알려 주지도 않음.

즉, 메모리 주소를 통해 값에 직접 접근 하려는 시도는 올바른 방법이 아니다!
```

![image](https://github.com/user-attachments/assets/7d926719-08a0-443d-8273-a675f85fb886)
그림과 같이 변수에 값을 저장 하는 것을 **할당(대입, 저장)이라** 하며, 변수에 저장된 값을 읽어 들이는 것을 **참조**라고 한다.
<br/>

## 4.2 식별자(identifier)
### 식별자란?
- 어떤 값을 구별해서 식별할 수 있는 고유한 이름
- 변수 이름을 식별자라고도 한다.

<br/>

🚦 값은 메모리 공간에 저장되어 있는데, 식별자는 **메모리 공간에 저장되어 있는 어떤 값을 구별해서 식별**해 낼 수 있어야 한다. <br/>
이를 위해 식별자는 어떤 값이 저장되어 있는 **메모리 주소를 기억(저장)**해야 한다. <br/>
<br/>

![image](https://github.com/user-attachments/assets/cc9ea652-223b-4967-8a59-4792cdfb306d)
🚦 식별자는 값이 아니라 **메모리 주소를 기억**한다!<br/>
즉, 식별자는 메모리 주소에 붙인 이름이라 할 수 있다.
<br/>
<br/>
🚦 식별자는 변수 이름에만 국한해서 사용하지 않고, 변수, 함수, 클래스 등의 이름 모두 식별자이다.<br/>
**메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름**을 모두 식별자라 부른다.<br/>
<br/>
🚦 식별자는 네이밍 규칙을 준수해야 하며, **선언**에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.
<br/>
## 4.3 변수 선언
### 변수 선언?
- 변수를 생성하는 것
- 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결하여 값을 저장할 수 있게 준비 하는 것

### 변수 선언 키워드
- var
- let
- const

```
❗️ var
블록 레벨 스코르를 지원하지 않고 함수 레벨 스코프를 지원하여 의도치 않게 전역 변수가 선언되어 부작용을 발생 시킨다.
ES6 이후 사양에서는 let, const를 권장
```

### 변수 선언 과정
```javascript
var score; // 변수 선언(변수 선언문)
```
1. 위 변수 선언문에서 변수 이름을 score로 등록하고 값을 저장할 메모리 공간을 확보 (**변수에 값을 할당하지는 않음**)
 - 변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록   
  > ❓ 실행 컨텍스트
  >   - 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공해 코드의 샐행 결과를 실제로 관리하는 영역
  >   - 변수 이름과 값이 실행 컨텍스트 내의 key, value 형식인 객체로 등록
2. 변수 선언에 의해 확보된 메모리 공간은 비어있지 않고 자바스크립트 엔진에 의해 `undefined`라는 값이 **암묵적으로 할당되어 초기화**
  > ❓만약 초기화 돤계를 거치지 않는다면?
  > - 확보한 메모리 공간에 이전의 다른 애플리케이션이 사용한 값(Garbage value)가 남을 수 있다.
🚦**선언하지 않은 식별자**에 접근하면 **ReferenceError(참조 에러**)가 발생한다.
<br/>

## 4.4 변수 선언의 실행 시점과 변수 호이스팅
자바스크립트 코드는 **인터프리터**에 의해 한 줄씩 순차적으로 실행된다.

```javascript
console.log(score); //undefined

var score;
```
하지만, 다음 코드의 경우 **참조 에러**가 발생하지 않고 **undefined**가 출력된다.<br/>
그 이유는 **변수 선언**이 **소스코드가 한 줄씩 순차적으로 실행되는 시점(런타임)**이 아니라 그 **이전 단계에서 먼저 실행**되기 때문이다.<br/>
<br/>
🚦 자바스크립트 엔진은 소스코드를 한 줄씩 순차적으로 실행하기 앞서 먼저 **소스코드의 평가 과정을 거쳐 소스코드를 실행하기 위한 준비**를 한다.
  - 변수 선언을 포함한 **모든 선언문(변수 선언문, 함수 선언문 등)**을 소스코드에서 찾아내 **먼저 실행**
  - 소스코드의 평가 과정이 끝나면 비로소 변수 선언을 포함한 모든 **선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행**

### 변수 호이스팅
- 변수 선언문이 **코드의 선두로 끌어 올려진 것처럼 동작**하는 자바스크립트의 고유의 특징
- 변수 선언뿐만 아니라 var, let, const, function, function*, class 키워드를 사용해 선언하는** 모든 식별자(변수, 함수 클래스 등)는 호이스팅**
- 모든 선언문 -> **런타임 이전 단계에서 먼저 실행**되기 때문
<br/>

## 4.5 값의 할당
소스코드가 순차적으로 실행되는 시점인 런타임에 실행
- 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되는 변수 선언과는 차이가 있다.
```javascript
// 변수 선언 후 값 할당
var score; // 변수 선언
score = 80; // 값의 할당

// 단축 표현
var score = 80; // 변수 선언과 값의 할당
```

### 호이스팅
```javascript
console.log(score); //undefined
var score = 80; // 변수 선언과 값의 할당
console.log(score); //80
```

🚦QUIZ
```javascript
console.log(score); //undefined

score = 80 // 값의 할당
var score; // 변수 선언

console.log(score); //??
```

<details>
    <summary>정답</summary>
    ```javascript
    80
    ```
    변수 호이스팅으로 값이 정상적으로 출력된다.
    ![image](https://github.com/user-attachments/assets/e7b8228c-c185-499e-b48e-9b8760030262)

    let으로 선언될 경우 syntax error가 발생한다.
    ![image](https://github.com/user-attachments/assets/79489689-8cca-4af9-be44-74e6611d63fd)

    >let이나 const로 선언한 변수는 호이스팅이 되지만, **TDZ(Temporal Dead Zone)**에 의해 선언 전에 접근하려 하면 ReferenceError가 발생한다. 또한, let과 const는 같은 스코프 내에서 중복 선언이 불가능하기 때문에, 코드에서 let score;로 선언되었다면 중복 선언으로 인해 SyntaxError가 발생한다.
</details>

## 4.6 값의 재할당
```javascript
var score = 80; // 변수 선언과 값의 할당
score = 90; // 값의 재할당
```
### 재할당 가능 키워드
변수에 저장된 값을 다른 값으로 변경
- var
- let

### 재할당 불가능 키워드 (상수)
값을 재할당 할 수 없어 변수에 저장된 값을 변경할 수 없음
- const

## 4.7 식별자 네이밍 규칙
- 식별자는 특수 문자를 제외한 문자, 숫자, 언더스코어(_), 달러 기호($)를 포함할 수 있다.
- 식별자는 특스문자를 제외한 문자, 언더스코어(_), 달러 기호($)로 시작해야 한다.
- 숫자로 시작하는 것은 허용하지 않는다.
- 예약어는 식별자로 사용할 수 없다.
  - ❓예약어
    - 프로그래밍 언어에서 상요되고 있거나 사용될 예정인 단어

